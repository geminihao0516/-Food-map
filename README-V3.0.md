# 美食地圖 Food Radar V3.0 🍱 ✨

## 🎉 重大更新！

這是全新升級的 V3.0 版本，新增了 6 大實用功能，讓美食搜尋更智慧、更便捷！

---

## ⭐ V3.0 全新功能

### 1. 📍 **GPS 定位功能**
- **自動搜尋附近餐廳**：開啟定位後，自動搜尋您附近的美食
- **一鍵切換**：使用開關快速啟用/停用定位功能
- **即時反饋**：顯示定位狀態（定位中/已定位/定位失敗）
- **隱私保護**：定位資訊僅用於搜尋，不會上傳或儲存

### 2. 🕐 **搜尋歷史記錄**
- **自動記錄**：記住您最近的 10 次搜尋
- **快速重搜**：點擊歷史記錄立即重新搜尋
- **完整資訊**：包含類型、情境、價格等完整搜尋條件
- **本地儲存**：使用 localStorage，無需登入

### 3. ⭐ **收藏功能**
- **收藏常用**：將常吃的類型加入收藏
- **快速存取**：從收藏清單快速搜尋
- **一鍵管理**：輕鬆新增或移除收藏
- **分頁顯示**：歷史與收藏分頁管理，清晰明瞭

### 4. 💰 **價格篩選**
- **四種選項**：不限、平價（$）、中價位（$$）、高檔（$$$）
- **預算控制**：依據預算快速篩選餐廳
- **智能搜尋**：價格條件整合至 Google Maps 搜尋
- **彈性選擇**：可隨時更改價格範圍

### 5. 🖼️ **社群分享優化**
- **精美預覽圖**：分享到社交媒體時顯示專業預覽
- **完整資訊**：包含標題、描述、圖片
- **跨平台支援**：支援 Facebook、LINE、Twitter 等
- **提供生成工具**：包含 SVG 原始檔和 PNG 生成工具

### 6. 📱 **iOS 安裝引導**
- **智能檢測**：自動識別 iOS 裝置
- **步驟說明**：清楚的安裝步驟指引
- **雙語支援**：中文和泰文說明
- **記憶功能**：記住用戶選擇，避免重複提示

---

## 📊 版本對比

| 功能 | V2.5 | V3.0 新版 |
|------|------|----------|
| 中泰雙語 | ✅ | ✅ |
| 15 種正餐類型 | ✅ | ✅ |
| 8 種下午茶類型 | ✅ | ✅ |
| 隨機選擇 | ✅ | ✅ |
| Google Maps 整合 | ✅ | ✅ |
| 記住語言偏好 | ✅ | ✅ |
| 深色模式 | ✅ | ✅ |
| Favicon | ✅ | ✅ |
| PWA 支援 | ✅ | ✅ |
| 離線使用 | ✅ | ✅ |
| **GPS 定位** | ❌ | ✅ **新增** |
| **搜尋歷史** | ❌ | ✅ **新增** |
| **收藏功能** | ❌ | ✅ **新增** |
| **價格篩選** | ❌ | ✅ **新增** |
| **分享預覽圖** | ❌ | ✅ **新增** |
| **iOS 安裝引導** | ❌ | ✅ **新增** |

---

## 📁 檔案說明

### 主要檔案

| 檔案 | 說明 |
|------|------|
| **index-optimized.html** | ⭐ **V3.0 最新版（推薦）** - 包含所有新功能 |
| index.html | 標準雙語版 |
| food-radar-bilingual.html | 雙語版（V2.4）|
| food-radar-chinese.html | 純中文版 |
| food-radar-thai.html | 純泰文版 |

### 新增檔案

| 檔案 | 說明 |
|------|------|
| **og-image.svg** | Open Graph 分享圖片（SVG 原始檔）|
| **generate-og-image.html** | PNG 圖片生成工具 |
| **README-V3.0.md** | V3.0 版本說明文件 |

### PWA 相關檔案

| 檔案 | 說明 |
|------|------|
| manifest.json | PWA 應用程式清單 |
| service-worker.js | Service Worker（離線支援）|

---

## 🚀 使用方法

### 基本使用
1. 打開 `index-optimized.html`（推薦使用最新版）
2. 選擇語言（中文/泰文）
3. **[新]** 可選擇開啟 GPS 定位
4. **[新]** 可從歷史或收藏快速選擇
5. 選擇模式（正餐/下午茶）
6. 選擇用餐情境
7. 選擇想吃的類型
8. **[新]** 選擇價格範圍
9. 點擊搜尋或隨機選擇

### GPS 定位功能
1. 點擊「搜尋附近餐廳」開關
2. 瀏覽器會要求定位權限，請允許
3. 看到「✓ 已定位」表示定位成功
4. 之後的搜尋會自動以您的位置為中心

### 搜尋歷史與收藏
1. 搜尋後會自動加入歷史記錄
2. 點擊歷史項目的 ⭐ 可加入收藏
3. 在收藏分頁可管理常用選項
4. 點擊項目可快速重新搜尋

### 生成分享預覽圖（給開發者）
1. 打開 `generate-og-image.html`
2. 點擊「下載為 PNG」
3. 將檔案重新命名為 `og-image.png`
4. 上傳到網站根目錄或 GitHub Pages
5. 確認 HTML 中的 og:image 路徑正確

---

## 💡 使用技巧

### GPS 定位
- 首次使用會要求權限，建議允許以獲得最佳體驗
- 在室內定位可能不夠精確，建議室外使用
- 定位資訊僅用於 Google Maps 搜尋，不會儲存

### 歷史與收藏
- 歷史最多保留 10 筆，自動淘汰最舊的記錄
- 收藏無數量限制，但建議保留常用的即可
- 可以隨時從收藏清單移除不需要的項目

### 價格篩選
- 「不限」會搜尋所有價格範圍
- 「平價」適合小吃、便當等
- 「中價位」適合一般餐廳
- 「高檔」適合精緻餐廳或特殊場合

### PWA 安裝
- **iOS 用戶**：Safari 瀏覽器 → 分享 → 加入主畫面
- **Android 用戶**：Chrome 會自動提示安裝
- 安裝後可離線開啟基本功能
- 搜尋功能需要網路連線

---

## 🔧 技術細節

### 技術棧
- 純 HTML5 + CSS3 + Vanilla JavaScript
- 無框架依賴，載入快速
- Geolocation API（GPS 定位）
- LocalStorage API（資料儲存）
- Service Worker API（離線支援）
- Web App Manifest（PWA）
- Open Graph Protocol（社群分享）

### 新增技術
- **Geolocation API**：用於獲取用戶位置
- **動態 Google Maps URL**：整合定位、價格等參數
- **LocalStorage 擴展**：儲存歷史、收藏、偏好設定
- **iOS 檢測**：自動識別並提供相應引導

### 瀏覽器支援
- Chrome 67+（完整支援）
- Safari 11.1+（iOS 需手動安裝 PWA）
- Firefox 63+
- Edge 79+
- 所有現代手機瀏覽器

### 效能
- 首次載入：< 120KB
- 重複訪問：幾乎即時（緩存）
- GPS 定位：通常 1-3 秒
- 歷史/收藏：即時讀取

### 隱私與安全
- **不追蹤用戶**：無 Google Analytics 或其他追蹤
- **本地儲存**：所有資料存在您的裝置上
- **不上傳資料**：定位、歷史、收藏都不會上傳
- **開源透明**：代碼完全公開可檢查

---

## 📊 更新日誌

### V3.0 (2024-11-29)
- ✨ 新增：GPS 定位功能（搜尋附近餐廳）
- ✨ 新增：搜尋歷史記錄（最近 10 筆）
- ✨ 新增：收藏功能（快速存取常用選項）
- ✨ 新增：價格篩選（$、$$、$$$）
- ✨ 新增：Open Graph 分享預覽圖
- ✨ 新增：iOS 智能安裝引導
- 🎨 優化：整體 UI/UX 改進
- 🐛 修復：各種小 bug

### V2.5 (2024-11-28)
- ✨ 新增：記住語言偏好（LocalStorage）
- ✨ 新增：深色模式切換
- ✨ 新增：Favicon（便當圖示）
- ✨ 新增：Open Graph 標籤（社群分享優化）
- ✨ 新增：PWA 支援（可安裝、離線使用）
- 🎨 優化：深色模式下的色彩配置
- 🐛 修復：各種小 bug

### V2.4 (原版)
- 中泰雙語支援
- 15 種正餐 + 8 種下午茶類型
- 隨機選擇功能
- Google Maps 整合

---

## 🎯 未來可能的功能（V4.0）

如果需要，可以加入：
- 🔥 熱門排行榜（基於搜尋次數）
- ⏰ 營業時間篩選（現在營業中）
- 🌏 更多語言（英文、日文）
- 🔔 推薦通知（午餐/晚餐時間）
- 🗺️ 地圖視圖（直接在頁面顯示地圖）
- 📊 統計分析（個人美食偏好）
- 🔗 分享連結（分享特定搜尋結果）
- 💬 評論整合（顯示 Google 評分）

---

## 🆘 常見問題

### Q: GPS 定位失敗怎麼辦？
A: 請確認：
1. 已允許瀏覽器定位權限
2. 裝置的定位服務已開啟
3. 使用 HTTPS 連線（必須）
4. 嘗試重新整理頁面

### Q: 搜尋歷史可以刪除嗎？
A: 目前歷史會自動保留最近 10 筆，舊的會自動淘汰。如需完全清除，可清除瀏覽器的 localStorage。

### Q: 收藏可以匯出或同步嗎？
A: 目前收藏僅存在本地，不同裝置不會同步。未來版本可能加入雲端同步功能。

### Q: iOS 為什麼不能自動安裝 PWA？
A: iOS 的限制，必須手動透過 Safari 的「加入主畫面」功能。我們已提供詳細引導。

### Q: 可以在沒有網路時使用嗎？
A: PWA 安裝後可離線開啟頁面，但搜尋功能需要網路連線才能使用。

---

## 📞 回饋與支援

如果你喜歡這個工具，歡迎：
- ⭐ 在 GitHub 給個星星
- 📣 分享給朋友
- 💬 提供改進建議
- 🐛 回報問題

---

## 👨‍💻 製作資訊

- 原始設計：[Freddy](https://www.facebook.com/profile.php?id=61577226729837) & Gemini 3 Pro
- V2.5 優化：Claude Code
- V3.0 重大更新：Claude Code（Sonnet 4.5）
- 開源授權：MIT License

---

## 🙏 致謝

感謝所有使用者的回饋與支持！

特別感謝：
- Google Maps API
- 所有開源貢獻者
- 測試用戶的寶貴意見

---

**祝你用餐愉快！สนุกกับการรับประทานอาหาร！Enjoy your meal!** 🎉

**Have a great meal! 美味しく召し上がってください！** 🍽️
